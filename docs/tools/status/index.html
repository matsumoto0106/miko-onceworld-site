<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>主人公ステータス・シミュレーター（デバッグ） | OnceWorld(ワンスワ)miko</title>

  <link rel="stylesheet" href="https://matsumoto0106.github.io/miko-onceworld-site/css/style.css">
  <link rel="stylesheet" href="https://matsumoto0106.github.io/miko-onceworld-site/css/monster.css">
</head>
<body>

<header class="site-header">
  <h1 class="site-title">
    <a href="https://matsumoto0106.github.io/miko-onceworld-site/">
      OnceWorld(ワンスワ)miko
    </a>
  </h1>

  
  <button class="menu-toggle" type="button" aria-label="メニュー" aria-expanded="false">
    ☰
  </button>

  
  <nav class="site-nav" aria-label="サイトメニュー">
    <a href="https://matsumoto0106.github.io/miko-onceworld-site/">ホームへ</a>
    <a href="https://matsumoto0106.github.io/miko-onceworld-site/monster/">モンスター一覧</a>
    <a href="https://matsumoto0106.github.io/miko-onceworld-site/tools/">ツール</a>
  </nav>

  
  <div class="nav-overlay" aria-hidden="true"></div>
</header>

<main>
  

<h1>主人公ステータス・シミュレーター（デバッグ）</h1>

<div class="tool-container">
  <!-- DB埋め込み（JSより前） -->
<p><script>
window.EQUIP_DB ="[{\"base_add\":{\"def\":30},\"series\":\"test-series\",\"slot\":\"body\",\"title\":\"テストアーマー\"},{\"base_add\":{\"atk\":15,\"def\":10},\"series\":\"test-series\",\"slot\":\"arms\",\"title\":\"テストガントレット\"},{\"base_add\":{\"spd\":10},\"series\":\"test-series\",\"slot\":\"legs\",\"title\":\"テストグリーブ\"},{\"base_add\":{\"def\":25,\"mdef\":15},\"series\":\"test-series\",\"slot\":\"shield\",\"title\":\"テストシールド\"},{\"base_add\":{\"atk\":50},\"series\":\"test-series\",\"slot\":\"weapon\",\"title\":\"テストソード\"},{\"base_add\":{\"vit\":20},\"series\":\"test-series\",\"slot\":\"head\",\"title\":\"テストヘルム\"}]";
</script>

<script>
window.ACC_DB ="[]";
</script>

<script>
window.PET_DB ="[{\"id\":1,\"stages\":[{\"flat_add\":{\"atk\":10},\"unlock_lv\":31},{\"flat_add\":{\"atk\":20},\"unlock_lv\":71},{\"rate_add\":{\"atk\":0.1},\"unlock_lv\":121},{\"final_add\":{\"atk\":0.05},\"unlock_lv\":181}],\"title\":\"テストペット：攻撃支援\"}]";
</script>
</p>

<p id="db-debug" class="note" style="margin:8px 0;">
  DB: ---
</p>
<script>
(function(){
  const e = (window.EQUIP_DB && Array.isArray(window.EQUIP_DB)) ? window.EQUIP_DB.length : 0;
  const a = (window.ACC_DB && Array.isArray(window.ACC_DB)) ? window.ACC_DB.length : 0;
  const p = (window.PET_DB && Array.isArray(window.PET_DB)) ? window.PET_DB.length : 0;
  const el = document.getElementById("db-debug");
  if (el) el.textContent = `DB: equip=${e}, acc=${a}, pet=${p}`;
})();
</script>


<!-- ここが本命：Hugoが見ている db/ の File.Path 一覧 -->
<details style="margin:12px 0;">
  <summary>デバッグ：AllPages File.Path（filter="db/", limit=200）</summary>

  <pre style="white-space:pre-wrap; font-size:12px; line-height:1.4;">db/equip/test_body.mddb/equip/test_arms.mddb/equip/test_legs.mddb/equip/test_shield.mddb/equip/test_weapon.mddb/pet-skill/test_pet_skill.mddb/equip/test_head.md</pre>

  <p style="margin:6px 0 0; font-size:12px;">表示件数：7</p>
</details>

<hr>
<div class="tool-box" id="status-sim">
  <h2>主人公ステータス・シミュレーター（デバッグ）</h2>
  <p class="note">
    ※このページは「DBがHugoに認識されているか」を確認するためのデバッグ版です。<br>
    上の一覧に <code>db/equip/</code> や <code>db/pet-skill/</code> が出るかを確認してください。
  </p>
</div>

</div>

<script src="https://matsumoto0106.github.io/miko-onceworld-site/js/atk-calc.js"></script>


</main>

<script>
document.addEventListener("DOMContentLoaded", () => {
  const toggle = document.querySelector(".menu-toggle");
  const nav = document.querySelector(".site-nav");
  const overlay = document.querySelector(".nav-overlay");

  if (!toggle || !nav || !overlay) return;

  function openMenu() {
    nav.classList.add("is-open");
    overlay.classList.add("is-open");
    toggle.setAttribute("aria-expanded", "true");
    toggle.textContent = "✕";
    document.body.classList.add("no-scroll");
  }

  function closeMenu() {
    nav.classList.remove("is-open");
    overlay.classList.remove("is-open");
    toggle.setAttribute("aria-expanded", "false");
    toggle.textContent = "☰";
    document.body.classList.remove("no-scroll");
  }

  toggle.addEventListener("click", () => {
    if (nav.classList.contains("is-open")) closeMenu();
    else openMenu();
  });

  overlay.addEventListener("click", closeMenu);

  
  window.addEventListener("resize", () => {
    if (window.matchMedia("(min-width: 769px)").matches) closeMenu();
  });
});
</script>

</body>
</html>
